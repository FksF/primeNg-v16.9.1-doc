"use strict";(self.webpackChunkprimeng=self.webpackChunkprimeng||[]).push([[5951],{298:(w,v,u)=>{u.d(v,{vI:()=>pe,xV:()=>M});var d=u(86825),p=u(96814),t=u(14769),b=u(42129),f=u(68938),_=u(42765),P=u(99027),C=u(31813),m=u(85557),T=u(60543),L=u(1091),S=u(11459);const k=["sublist"];function K(o,a){if(1&o&&t._UZ(0,"li",6),2&o){const s=t.oxw().$implicit,e=t.oxw(2);t.Akn(e.getItemProp(s,"style")),t.Q6J("ngClass",e.getSeparatorItemClass(s)),t.uIk("id",e.getItemId(s))("data-pc-section","separator")}}function A(o,a){if(1&o&&t._UZ(0,"span",19),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("ngClass",e.getItemProp(s,"icon"))("ngStyle",e.getItemProp(s,"iconStyle")),t.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function O(o,a){if(1&o&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.uIk("data-pc-section","label"),t.xp6(1),t.hij(" ",e.getItemLabel(s)," ")}}function V(o,a){if(1&o&&t._UZ(0,"span",21),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("innerHTML",e.getItemLabel(s),t.oJD),t.uIk("data-pc-section","label")}}function D(o,a){if(1&o&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("ngClass",e.getItemProp(s,"badgeStyleClass")),t.xp6(1),t.Oqu(e.getItemProp(s,"badge"))}}function F(o,a){1&o&&t._UZ(0,"AngleRightIcon",25),2&o&&(t.Q6J("styleClass","p-submenu-icon"),t.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function Q(o,a){}function Z(o,a){1&o&&t.YNc(0,Q,0,0,"ng-template"),2&o&&t.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function J(o,a){if(1&o&&(t.ynx(0),t.YNc(1,F,1,3,"AngleRightIcon",23),t.YNc(2,Z,1,2,null,24),t.BQk()),2&o){const s=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!s.contextMenu.submenuIconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",s.contextMenu.submenuIconTemplate)}}const y=function(o){return{"p-menuitem-link":!0,"p-disabled":o}};function B(o,a){if(1&o&&(t.TgZ(0,"a",14),t.YNc(1,A,1,5,"span",15),t.YNc(2,O,2,2,"span",16),t.YNc(3,V,1,2,"ng-template",null,17,t.W1O),t.YNc(5,D,2,2,"span",18),t.YNc(6,J,3,2,"ng-container",10),t.qZA()),2&o){const s=t.MAs(4),e=t.oxw(3).$implicit,i=t.oxw(2);t.Q6J("target",i.getItemProp(e,"target"))("ngClass",t.VKq(12,y,i.getItemProp(e,"disabled"))),t.uIk("href",i.getItemProp(e,"url"),t.LSH)("aria-hidden",!0)("data-automationid",i.getItemProp(e,"automationId"))("data-pc-section","action")("tabindex",-1),t.xp6(1),t.Q6J("ngIf",i.getItemProp(e,"icon")),t.xp6(1),t.Q6J("ngIf",i.getItemProp(e,"escape"))("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",i.getItemProp(e,"badge")),t.xp6(1),t.Q6J("ngIf",i.isItemGroup(e))}}function N(o,a){if(1&o&&t._UZ(0,"span",19),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("ngClass",e.getItemProp(s,"icon"))("ngStyle",e.getItemProp(s,"iconStyle")),t.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function G(o,a){if(1&o&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.uIk("data-pc-section","label"),t.xp6(1),t.hij(" ",e.getItemLabel(s)," ")}}function Y(o,a){if(1&o&&t._UZ(0,"span",21),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("innerHTML",e.getItemLabel(s),t.oJD),t.uIk("data-pc-section","label")}}function H(o,a){if(1&o&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&o){const s=t.oxw(4).$implicit,e=t.oxw(2);t.Q6J("ngClass",e.getItemProp(s,"badgeStyleClass")),t.xp6(1),t.Oqu(e.getItemProp(s,"badge"))}}function R(o,a){1&o&&t._UZ(0,"AngleRightIcon",25),2&o&&(t.Q6J("styleClass","p-submenu-icon"),t.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function U(o,a){}function $(o,a){1&o&&t.YNc(0,U,0,0,"ng-template"),2&o&&t.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function W(o,a){if(1&o&&(t.ynx(0),t.YNc(1,R,1,3,"AngleRightIcon",23),t.YNc(2,$,1,2,null,24),t.BQk()),2&o){const s=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!s.contextMenu.submenuIconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",s.contextMenu.submenuIconTemplate)}}const z=function(){return{exact:!1}};function q(o,a){if(1&o&&(t.TgZ(0,"a",26),t.YNc(1,N,1,5,"span",15),t.YNc(2,G,2,2,"span",16),t.YNc(3,Y,1,2,"ng-template",null,17,t.W1O),t.YNc(5,H,2,2,"span",18),t.YNc(6,W,3,2,"ng-container",10),t.qZA()),2&o){const s=t.MAs(4),e=t.oxw(3).$implicit,i=t.oxw(2);t.Q6J("routerLink",i.getItemProp(e,"routerLink"))("queryParams",i.getItemProp(e,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.getItemProp(e,"routerLinkActiveOptions")||t.DdM(21,z))("target",i.getItemProp(e,"target"))("ngClass",t.VKq(22,y,i.getItemProp(e,"disabled")))("fragment",i.getItemProp(e,"fragment"))("queryParamsHandling",i.getItemProp(e,"queryParamsHandling"))("preserveFragment",i.getItemProp(e,"preserveFragment"))("skipLocationChange",i.getItemProp(e,"skipLocationChange"))("replaceUrl",i.getItemProp(e,"replaceUrl"))("state",i.getItemProp(e,"state")),t.uIk("data-automationid",i.getItemProp(e,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),t.xp6(1),t.Q6J("ngIf",i.getItemProp(e,"icon")),t.xp6(1),t.Q6J("ngIf",i.getItemProp(e,"escape"))("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",i.getItemProp(e,"badge")),t.xp6(1),t.Q6J("ngIf",i.isItemGroup(e))}}function j(o,a){if(1&o&&(t.ynx(0),t.YNc(1,B,7,14,"a",12),t.YNc(2,q,7,24,"a",13),t.BQk()),2&o){const s=t.oxw(2).$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.getItemProp(s,"routerLink")),t.xp6(1),t.Q6J("ngIf",e.getItemProp(s,"routerLink"))}}function X(o,a){}function ee(o,a){1&o&&t.YNc(0,X,0,0,"ng-template")}const te=function(o){return{$implicit:o}};function ie(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ee,1,0,null,27),t.BQk()),2&o){const s=t.oxw(2).$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",t.VKq(2,te,s.item))}}function ne(o,a){if(1&o){const s=t.EpF();t.TgZ(0,"p-contextMenuSub",28),t.NdJ("itemClick",function(i){t.CHM(s);const n=t.oxw(4);return t.KtG(n.itemClick.emit(i))})("itemMouseEnter",function(i){t.CHM(s);const n=t.oxw(4);return t.KtG(n.onItemMouseEnter(i))}),t.qZA()}if(2&o){const s=t.oxw(2).$implicit,e=t.oxw(2);t.Q6J("items",s.items)("itemTemplate",e.itemTemplate)("menuId",e.menuId)("visible",e.isItemActive(s)&&e.isItemGroup(s))("activeItemPath",e.activeItemPath)("focusedItemId",e.focusedItemId)("level",e.level+1)}}function se(o,a){if(1&o){const s=t.EpF();t.TgZ(0,"li",7,8)(2,"div",9),t.NdJ("click",function(i){t.CHM(s);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.onItemClick(i,n))})("mouseenter",function(i){t.CHM(s);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.onItemMouseEnter({$event:i,processedItem:n}))}),t.YNc(3,j,3,2,"ng-container",10),t.YNc(4,ie,2,4,"ng-container",10),t.qZA(),t.YNc(5,ne,1,7,"p-contextMenuSub",11),t.qZA()}if(2&o){const s=t.oxw(),e=s.$implicit,i=s.index,n=t.oxw(2);t.Tol(n.getItemProp(e,"styleClass")),t.Q6J("ngStyle",n.getItemProp(e,"style"))("ngClass",n.getItemClass(e))("tooltipOptions",n.getItemProp(e,"tooltipOptions")),t.uIk("id",n.getItemId(e))("data-pc-section","menuitem")("data-p-highlight",n.isItemActive(e))("data-p-focused",n.isItemFocused(e))("data-p-disabled",n.isItemDisabled(e))("aria-label",n.getItemLabel(e))("aria-disabled",n.isItemDisabled(e)||void 0)("aria-haspopup",n.isItemGroup(e)&&!n.getItemProp(e,"to")?"menu":void 0)("aria-expanded",n.isItemGroup(e)?n.isItemActive(e):void 0)("aria-level",n.level+1)("aria-setsize",n.getAriaSetSize())("aria-posinset",n.getAriaPosInset(i)),t.xp6(2),t.uIk("data-pc-section","content"),t.xp6(1),t.Q6J("ngIf",!n.itemTemplate),t.xp6(1),t.Q6J("ngIf",n.itemTemplate),t.xp6(1),t.Q6J("ngIf",n.isItemVisible(e)&&n.isItemGroup(e))}}function oe(o,a){if(1&o&&(t.YNc(0,K,1,5,"li",4),t.YNc(1,se,6,21,"li",5)),2&o){const s=a.$implicit,e=t.oxw(2);t.Q6J("ngIf",e.isItemVisible(s)&&e.getItemProp(s,"separator")),t.xp6(1),t.Q6J("ngIf",e.isItemVisible(s)&&!e.getItemProp(s,"separator"))}}const ae=function(o,a){return{"p-submenu-list":o,"p-contextmenu-root-list":a}};function re(o,a){if(1&o){const s=t.EpF();t.TgZ(0,"ul",1,2),t.NdJ("@overlayAnimation.start",function(i){t.CHM(s);const n=t.MAs(1),r=t.oxw();return t.KtG(r.onEnter(i,n))})("keydown",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.menuKeydown.emit(i))})("focus",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.menuFocus.emit(i))})("blur",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.menuBlur.emit(i))}),t.YNc(2,oe,2,2,"ng-template",3),t.qZA()}if(2&o){const s=t.oxw();t.Q6J("ngClass",t.WLB(10,ae,!s.root,s.root))("@overlayAnimation",s.visible)("tabindex",s.tabindex),t.uIk("id",s.menuId+"_list")("aria-label",s.ariaLabel)("aria-labelledBy",s.ariaLabelledBy)("aria-activedescendant",s.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),t.xp6(2),t.Q6J("ngForOf",s.items)}}const le=["rootmenu"],ce=["container"],me=function(){return{"p-contextmenu p-component":!0,"p-contextmenu-overlay":!0}},ue=function(){return{value:"visible"}};function _e(o,a){if(1&o){const s=t.EpF();t.TgZ(0,"div",1,2),t.NdJ("@overlayAnimation.start",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onOverlayAnimationEnd(i))}),t.TgZ(2,"p-contextMenuSub",3,4),t.NdJ("itemClick",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onItemClick(i))})("menuFocus",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onMenuFocus(i))})("menuBlur",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onMenuBlur(i))})("menuKeydown",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onKeyDown(i))})("itemMouseEnter",function(i){t.CHM(s);const n=t.oxw();return t.KtG(n.onItemMouseEnter(i))}),t.qZA()()}if(2&o){const s=t.oxw();t.Tol(s.styleClass),t.Q6J("ngClass",t.DdM(20,me))("ngStyle",s.style)("@overlayAnimation",t.DdM(21,ue)),t.uIk("data-pc-section","root")("data-pc-name","contextmenu")("id",s.id),t.xp6(2),t.Q6J("root",!0)("items",s.processedItems)("itemTemplate",s.itemTemplate)("menuId",s.id)("tabindex",s.disabled?-1:s.tabindex)("ariaLabel",s.ariaLabel)("ariaLabelledBy",s.ariaLabelledBy)("baseZIndex",s.baseZIndex)("autoZIndex",s.autoZIndex)("visible",s.submenuVisible())("focusedItemId",s.focused?s.focusedItemId:void 0)("activeItemPath",s.activeItemPath())}}let de=(()=>{var o;class a{constructor(e,i,n,r,l,c){this.document=e,this.el=i,this.renderer=n,this.cd=r,this.contextMenu=l,this.ref=c,this.visible=!1,this.root=!1,this.autoZIndex=!0,this.baseZIndex=0,this.level=0,this.tabindex=0,this.itemClick=new t.vpe,this.itemMouseEnter=new t.vpe,this.menuFocus=new t.vpe,this.menuBlur=new t.vpe,this.menuKeydown=new t.vpe}getItemProp(e,i,n=null){return e&&e.item?m.gb.getItemValue(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return{...this.getItemProp(e,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return{...this.getItemProp(e,"class"),"p-menuitem-separator":!0}}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}isItemVisible(e){return!1!==this.getItemProp(e,"visible")}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return m.gb.isNotEmpty(e.items)}onItemMouseEnter(e){const{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}onEnter(e,i){"void"===e.fromState&&e.toState&&this.position(e.element)}position(e){const i=e.parentElement.parentElement,n=_.p.getOffset(e.parentElement.parentElement),r=_.p.getViewport(),l=e.offsetParent?e.offsetWidth:_.p.getHiddenElementOuterWidth(e),c=_.p.getOuterWidth(i.children[0]);e.style.top="0px",e.style.left=parseInt(n.left,10)+c+l>r.width-_.p.calculateScrollbarWidth()?-1*l+"px":c+"px"}}return(o=a).\u0275fac=function(e){return new(e||o)(t.Y36(p.K0),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>M)),t.Y36(t.s_b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["p-contextMenuSub"]],viewQuery:function(e,i){if(1&e&&t.Gf(k,5),2&e){let n;t.iGM(n=t.CRH())&&(i.sublistViewChild=n.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",items:"items",itemTemplate:"itemTemplate",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:1,vars:1,consts:[["role","menu",3,"ngClass","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"ngClass","tabindex","keydown","focus","blur"],["sublist",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter"]],template:function(e,i){1&e&&t.YNc(0,re,3,13,"ul",0),2&e&&t.Q6J("ngIf",!!i.root||i.visible)},dependencies:[p.mk,p.sg,p.O5,p.tP,p.PC,b.rH,b.Od,T.H,L.u,S.o,o],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0})]),(0,d.eR)(":leave",[(0,d.oB)({opacity:0})])])]}}),a})(),M=(()=>{var o;class a{set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}get visibleItems(){const e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:-1!==e.index?`${this.id}${m.gb.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,n,r,l,c,h){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.cd=l,this.config=c,this.overlayService=h,this.triggerEvent="contextmenu",this.autoZIndex=!0,this.baseZIndex=0,this.onShow=new t.vpe,this.onHide=new t.vpe,this.visible=(0,t.tdS)(!1),this.focused=!1,this.activeItemPath=(0,t.tdS)([]),this.focusedItemInfo=(0,t.tdS)({index:-1,level:0,parentKey:"",item:null}),this.submenuVisible=(0,t.tdS)(!1),this.searchValue="",this.window=this.document.defaultView,(0,t.cEC)(()=>{const I=this.activeItemPath();m.gb.isNotEmpty(I)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){this.id=this.id||(0,m.Th)(),this.bindTriggerEventListener()}bindTriggerEventListener(){(0,p.NF)(this.platformId)&&(this.triggerEventListener||(this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if((0,p.NF)(this.platformId)){if(!this.documentClickListener){const e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&2!==i.button&&"click"!==this.triggerEvent&&this.hide()}),this.documentTriggerListener=this.renderer.listen(e,this.triggerEvent,i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}ngAfterContentInit(){this.templates?.forEach(e=>{"submenuicon"===e.getType()?this.submenuIconTemplate=e.template:this.itemTemplate=e.template})}createProcessedItems(e,i=0,n={},r=""){const l=[];return e&&e.forEach((c,h)=>{const I=(""!==r?r+"_":"")+h,g={item:c,index:h,level:i,key:I,parent:n,parentKey:r};g.items=this.createProcessedItems(c.items,i+1,g,I),l.push(g)}),l}getItemProp(e,i){return e?m.gb.getItemValue(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&m.gb.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&m.gb.isNotEmpty(e.items)}onItemClick(e){const{processedItem:i}=e,n=this.isProcessedItemGroup(i);if(this.isSelected(i)){const{index:l,key:c,level:h,parentKey:I,item:g}=i;this.activeItemPath.set(this.activeItemPath().filter(x=>c!==x.key&&c.startsWith(x.key))),this.focusedItemInfo.set({index:l,level:h,parentKey:I,item:g}),_.p.focus(this.rootmenu.sublistViewChild.nativeElement)}else n?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e)}onKeyDown(e){const i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&m.gb.isPrintableCharacter(e.key)&&this.searchItems(e,e.key)}}onArrowDownKey(e){const i=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){const i=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(-1!==this.focusedItemInfo().index){const i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide(),e.preventDefault()}else{const i=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){const i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(c=>c.key===i.parentKey);m.gb.isEmpty(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));const l=this.activeItemPath().filter(c=>c.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(l),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();const i=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.mutate(n=>{n.index=this.findFirstFocusedItemIndex(),n.item=i.item}),e.preventDefault()}onTabKey(e){if(-1!==this.focusedItemInfo().index){const i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(-1!==this.focusedItemInfo().index){const i=_.p.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),n=i&&_.p.findSingle(i,'a[data-pc-section="action"]');n?n.click():i&&i.click();const r=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(r)||this.focusedItemInfo.mutate(c=>{c.index=this.findFirstFocusedItemIndex()})}e.preventDefault()}onItemChange(e){const{processedItem:i,isFocus:n}=e;if(m.gb.isEmpty(i))return;const{index:r,key:l,level:c,parentKey:h,items:I}=i,g=m.gb.isNotEmpty(I),x=this.activeItemPath().filter(E=>E.parentKey!==h&&E.parentKey!==l);g&&(x.push(i),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:r,level:c,parentKey:h,item:i.item}),this.activeItemPath.set(x),n&&_.p.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;const i=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(i)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){"visible"===e.toState&&(this.container=e.element,this.position(),this.moveOnTop(),this.appendOverlay(),this.bindGlobalListeners(),this.onShow.emit(),_.p.focus(this.rootmenu.sublistViewChild.nativeElement))}onOverlayAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.containerViewChild.nativeElement):_.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}moveOnTop(){this.autoZIndex&&this.containerViewChild&&m.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&m.P9.clear(this.container),this.container=null,this.onHide.emit()}hide(){this.visible.set(!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.pageX=e.pageX,this.pageY=e.pageY,this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,i=this.pageY+1,n=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:_.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),r=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:_.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),l=_.p.getViewport();e+n-this.document.scrollingElement.scrollLeft>l.width&&(e-=n),i+r-this.document.scrollingElement.scrollTop>l.height&&(i-=r),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),i<this.document.scrollingElement.scrollTop&&(i=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=i+"px"}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,r=!1;return-1!==this.focusedItemInfo().index?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(l=>this.isItemMatched(l)),n=-1===n?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(l=>this.isItemMatched(l)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(l=>this.isItemMatched(l)),-1!==n&&(r=!0),-1===n&&-1===this.focusedItemInfo().index&&(n=this.findFirstFocusedItemIndex()),-1!==n&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}findVisibleItem(e){return m.gb.isNotEmpty(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return m.gb.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){const i=e>0?m.gb.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){const i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){const n=this.findVisibleItem(i);this.focusedItemInfo().index!==i&&(this.focusedItemInfo.mutate(r=>{r.index=i,r.item=n.item}),this.scrollInView())}scrollInView(e=-1){const n=_.p.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==e?`${this.id}_${e}`:this.focusedItemId}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){(0,p.NF)(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.appendTo&&("body"===this.appendTo?this.containerViewChild&&this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement):_.p.removeChild(this.containerViewChild.nativeElement,this.appendTo))}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.removeAppendedElements()}}return(o=a).\u0275fac=function(e){return new(e||o)(t.Y36(p.K0),t.Y36(t.Lbi),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(f.b4),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["p-contextMenu"]],contentQueries:function(e,i,n){if(1&e&&t.Suo(n,f.jx,4),2&e){let r;t.iGM(r=t.CRH())&&(i.templates=r)}},viewQuery:function(e,i){if(1&e&&(t.Gf(le,5),t.Gf(ce,5)),2&e){let n;t.iGM(n=t.CRH())&&(i.rootmenu=n.first),t.iGM(n=t.CRH())&&(i.containerViewChild=n.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:"global",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],["container",""],[3,"root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""]],template:function(e,i){1&e&&t.YNc(0,_e,4,22,"div",0),2&e&&t.Q6J("ngIf",i.visible())},dependencies:[p.mk,p.O5,p.PC,de],styles:["@layer primeng{.p-contextmenu{position:absolute}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-contextmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0}),(0,d.jt)("250ms")]),(0,d.eR)(":leave",[(0,d.jt)(".1s linear",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),a})(),pe=(()=>{var o;class a{}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,b.Bz,P.T,C.z,f.m8,b.Bz,C.z,f.m8]}),a})()},65951:(w,v,u)=>{u.d(v,{vI:()=>d.vI});var d=u(298)}}]);